{
  "ConnectionStrings": {
    "DefaultConnection": "Data Source=192.168.166.11,1433;Initial Catalog=PopAI;User ID=conexusadmin;Password=PWUi^g6~lxD;MultipleActiveResultSets=true;TrustServerCertificate=true",
    "SourceDatabase": "Data Source=192.168.166.11,1433;Initial Catalog=ProgressPlayDBTest;User ID=saturn;Password=Vt0zXXc800;MultipleActiveResultSets=true;TrustServerCertificate=true;ApplicationIntent=ReadOnly"
  },
  "MonitoringGrid": {
    "Database": {
      "DefaultConnection": "Data Source=192.168.166.11,1433;Initial Catalog=PopAI;User ID=conexusadmin;Password=PWUi^g6~lxD;MultipleActiveResultSets=true;TrustServerCertificate=true",
      "SourceDatabase": "Data Source=192.168.166.11,1433;Initial Catalog=ProgressPlayDBTest;User ID=saturn;Password=Vt0zXXc800;MultipleActiveResultSets=true;TrustServerCertificate=true;ApplicationIntent=ReadOnly",
      "TimeoutSeconds": 30,
      "EnablePooling": true,
      "MaxPoolSize": 50
    },
    "Monitoring": {
      "MaxParallelExecutions": 5,
      "ServiceIntervalSeconds": 30,
      "AlertRetryCount": 3,
      "EnableSms": true,
      "EnableEmail": true,
      "EnableHistoricalComparison": true,
      "EnableAbsoluteThresholds": true,
      "BatchSize": 10,
      "MaxAlertHistoryDays": 90,
      "HistoricalWeeksBack": 4,
      "DefaultLastMinutes": 1440,
      "DefaultFrequency": 60,
      "DefaultCooldownMinutes": 30,
      "EnableWorkerServices": true,
      "SmsGateway": "sms-gateway@example.com",
      "AdminEmail": "admin@example.com"
    },
    "Email": {
      "SmtpServer": "smtp.example.com",
      "SmtpPort": 587,
      "Username": "monitoring@example.com",
      "Password": "your-email-password",
      "EnableSsl": true,
      "FromAddress": "monitoring@example.com",
      "FromName": "Monitoring Grid System",
      "TimeoutSeconds": 30
    },
    "Security": {
      "Jwt": {
        "SecretKey": "MonitoringGrid-Super-Secret-Key-That-Is-Long-Enough-For-HMAC-SHA256-Algorithm-2024",
        "Issuer": "MonitoringGrid.Api",
        "Audience": "MonitoringGrid.Frontend",
        "AccessTokenExpirationMinutes": 60,
        "RefreshTokenExpirationDays": 30,
        "Algorithm": "HS256"
      },
      "PasswordPolicy": {
        "MinimumLength": 8,
        "RequireUppercase": true,
        "RequireLowercase": true,
        "RequireDigit": true,
        "RequireSpecialCharacter": true,
        "MaxFailedAttempts": 5,
        "LockoutDurationMinutes": 30,
        "PasswordExpirationDays": 90,
        "PasswordHistoryCount": 5
      },
      "Session": {
        "TimeoutMinutes": 60,
        "ExtendOnActivity": true,
        "MaxConcurrentSessions": 3
      },
      "RateLimit": {
        "IsEnabled": true,
        "MaxRequestsPerMinute": 100,
        "MaxLoginAttemptsPerMinute": 5,
        "BanDurationMinutes": 15
      },
      "Encryption": {
        "EncryptionKey": "TW9uaXRvcmluZ0dyaWQtRW5jcnlwdGlvbi1LZXktMjAyNA==",
        "HashingSalt": "TW9uaXRvcmluZ0dyaWQtSGFzaGluZy1TYWx0LTIwMjQ="
      }
  },
  "Serilog": {
    "Using": [ "Serilog.Sinks.Console", "Serilog.Sinks.File" ],
    "MinimumLevel": {
      "Default": "Information",
      "Override": {
        "Microsoft": "Warning",
        "System": "Warning",
        "Microsoft.EntityFrameworkCore": "Warning"
      }
    },
    "WriteTo": [
      {
        "Name": "Console",
        "Args": {
          "outputTemplate": "[{Timestamp:yyyy-MM-dd HH:mm:ss} {Level:u3}] {Message:lj} {Properties:j}{NewLine}{Exception}"
        }
      },
      {
        "Name": "File",
        "Args": {
          "path": "logs/monitoring-api-.log",
          "rollingInterval": "Day",
          "retainedFileCountLimit": 30,
          "outputTemplate": "[{Timestamp:yyyy-MM-dd HH:mm:ss.fff zzz} {Level:u3}] {Message:lj} {Properties:j}{NewLine}{Exception}"
        }
      }
    ],
    "Enrich": [ "FromLogContext", "WithMachineName", "WithThreadId" ]
  },
  "Worker": {
      "IndicatorMonitoring": {
        "IntervalSeconds": 60,
        "MaxParallelIndicators": 5,
        "ExecutionTimeoutSeconds": 300,
        "ProcessOnlyActiveIndicators": true,
        "SkipRunningIndicators": true
      },
      "ScheduledTasks": {
        "Enabled": true,
        "CleanupCronExpression": "0 0 2 * * ?",
        "MaintenanceCronExpression": "0 0 3 ? * SUN",
        "HistoricalDataRetentionDays": 90,
        "LogRetentionDays": 30
      },
      "HealthChecks": {
        "IntervalSeconds": 300,
        "CheckDatabase": true,
        "CheckIndicatorExecution": true,
        "CheckAlertProcessing": true,
        "TimeoutSeconds": 30
      },
      "AlertProcessing": {
        "IntervalSeconds": 30,
        "BatchSize": 100,
        "EnableEscalation": true,
        "EscalationTimeoutMinutes": 60,
        "EnableAutoResolution": true,
        "AutoResolutionTimeoutMinutes": 120
      },
      "Logging": {
        "MinimumLevel": "Information",
        "EnableStructuredLogging": true,
        "EnablePerformanceLogging": false,
        "LogToConsole": true,
        "LogToEventLog": false
      }
    }
  },
  "AllowedHosts": "*"
}
